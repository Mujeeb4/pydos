# Logs Directory

This directory stores all log files generated by the DDoS Detection System.

## Log Files

The logging system creates the following files automatically:

### 1. `ddos_events.log`
- **Purpose**: All events (INFO, WARNING, ERROR)
- **Content**: Comprehensive event log
- **Format**: Text with timestamps
- **Rotation**: 5 MB max, 5 backups

### 2. `ddos_attacks.log`
- **Purpose**: Attack-specific events only
- **Content**: Detected attacks and mitigations
- **Format**: Text with timestamps
- **Rotation**: 5 MB max, 5 backups

### 3. `ddos_system.log`
- **Purpose**: System operations
- **Content**: Startup, shutdown, errors
- **Format**: Text with timestamps
- **Rotation**: 5 MB max, 5 backups

### 4. `ddos_events.json`
- **Purpose**: Structured event data
- **Content**: JSON-formatted logs
- **Format**: One JSON object per line
- **Use**: Programmatic analysis, dashboards

## Log Rotation

All log files use **RotatingFileHandler**:
- **Max Size**: 5 MB per file
- **Backups**: 5 old versions kept
- **Total Space**: ~30 MB maximum (6 files × 5 MB)

When a log reaches 5 MB:
- Current file renamed to `.log.1`
- Previous backups shifted (`.log.1` → `.log.2`, etc.)
- Oldest backup (`.log.5`) deleted
- New empty log file created

## Log Formats

### Text Logs Format
```
2024-11-08 10:23:45 - WARNING - Attack detected: SYN_FLOOD from 192.168.1.100 (68 packets)
2024-11-08 10:23:45 - WARNING - IP 192.168.1.100 has been blocked
```

### JSON Logs Format
```json
{
  "timestamp": "2024-11-08T10:23:45",
  "level": "WARNING",
  "event_type": "ATTACK_DETECTED",
  "attack_type": "SYN_FLOOD",
  "source_ip": "192.168.1.100",
  "packet_count": 68,
  "action": "BLOCKED"
}
```

## Viewing Logs

### Real-time Monitoring
```bash
# Watch all events
tail -f logs/ddos_events.log

# Watch attacks only
tail -f logs/ddos_attacks.log

# Watch system logs
tail -f logs/ddos_system.log
```

### Search Logs
```bash
# Find all attacks from specific IP
grep "192.168.1.100" logs/ddos_attacks.log

# Count total attacks
grep "Attack detected" logs/ddos_attacks.log | wc -l

# Show last 50 events
tail -n 50 logs/ddos_events.log
```

### Analyze JSON Logs
```bash
# Pretty print JSON
cat logs/ddos_events.json | jq '.'

# Filter SYN floods only
cat logs/ddos_events.json | jq 'select(.attack_type == "SYN_FLOOD")'

# Count attacks by type
cat logs/ddos_events.json | jq -r '.attack_type' | sort | uniq -c
```

## Log Cleanup

### Manual Cleanup
```bash
# Remove all logs
rm logs/*.log*
rm logs/*.json

# Remove old backups only
rm logs/*.log.[1-5]
```

### Automatic Cleanup
The rotation system handles cleanup automatically. No manual intervention needed.

## .gitignore

This directory should be in `.gitignore`:
```
logs/
*.log
*.log.*
```

Logs contain runtime data and should not be committed to version control.

## Notes

- Logs are created automatically when the system starts
- Empty logs directory is normal for new installations
- Check logs for troubleshooting and forensics
- JSON logs are great for automated analysis

---

**This directory is auto-generated. Do not manually create log files.**
